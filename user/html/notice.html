<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello || World</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/helloworld/user/css/common.css">
</head>
<body>
<header>
    <div class="header_con d-flex container jcsb aic">
        <div class="left_menu">
            <img src="/helloworld/user/img/logo_text.jpg" alt="Hello World 로고">
          </div>
          <div class="center_menu d-flex aic bold h4 mb-0">
            <a href="#">강의</a>
            <a href="/user/html/notice.html">공지사항</a>
            <a href="/user/html/Q&A.html">Q&amp;A</a>
          </div>
          <div class="right_menu d-flex aic h4 mb-0">
            <div class="icons d-flex">
                <a href="#" class="bi bi-cart"></a>
                <a href="#" class="bi bi-person-circle"></a>
            </div>
            <div class="d-flex bt">
                <button type="button" class="btn btn-primary btn-sm login" href="#" role="button">로그인</button>
                <button type="button" class="btn btn-primary btn-sm member" href="#" role="button">회원가입</button>
            </div>
          </div>
        </div>
    </div>
</header>
<div class="container">
  <h2 class="h2_t">공지사항</h2>
  <div class="d-flex jcsb tb">
    <select class="form-select form-select-lg mb-3 sb p" aria-label="Large select example" id="dateFilter">
      <option value="all" selected>전체</option>
      <option value="latest">최신순</option>
      <option value="oldest">과거순</option>
    </select>
    <form class="block-top d-flex search_bar">
      <input class="form-control me-2 search" type="search" placeholder="제목을 입력하시오." aria-label="Search" id="searchInput">
      <button class="btn btn-outline-success btn_search" type="submit" id="searchButton">검색</button>
    </form>
  </div>
  <div class="table-container">
    <table class="table table-striped table-hover notice_tb jcsb"> 
      <thead>
        <tr>
          <th scope="col">NO.</th>
          <th scope="col">제목</th>
          <th scope="col">작성자</th>
          <th scope="col">조회수</th>
          <th scope="col">작성일</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">10</th>
          <td><a href="/user/html/notice_detail.html">수강생 대상 이벤트 당첨자 발표</a></td>
          <td>운영자</td>
          <td>1004</td>
          <td>2024.05.22</td>
        </tr>
        <tr>
          <th scope="row">9</th>
          <td><a href="#">개인정보 처리방침 변경 안내</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">수강생 간담회 개최 안내</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">React 강좌 개설</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">수강생 대상 설문조사 안내</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">자료실 업데이트 안내</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">웹 디자인 포트폴리오 콘테스트 개최</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">이용 약관 변경 공지</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">교육 과정 설문조사 안내</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
        <tr>
          <th scope="row">1</th>
          <td><a href="#">김동주 선생님 특강 오픈</a></td>
          <td>운영자</td>
          <td>1024</td>
          <td>2024.04.24</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="d-flex justify-content-center">
    <nav aria-label="...">
      <ul class="pagination">
        <li class="page-item disabled">
          <a class="page-link">이전</a>
        </li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item " aria-current="page">
          <a class="page-link" href="#">2</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">4</a></li>
        <li class="page-item">
          <a class="page-link" href="#">다음</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      var dateFilter = document.getElementById('dateFilter');
      var searchInput = document.getElementById('searchInput');
      var searchButton = document.getElementById('searchButton');
      var tableRows = document.querySelectorAll('.notice_tb tbody tr');

      // 작성일 필터링 기능
      dateFilter.addEventListener('change', filterRows);

      // 제목 검색 기능
      searchButton.addEventListener('click', function(event) {
          event.preventDefault();
          filterRows();
      });

      // 행 필터링 함수
      function filterRows() {
          var selectedOption = dateFilter.value;
          var searchTerm = searchInput.value.toLowerCase();

          tableRows.forEach(function(row) {
              var date = new Date(row.querySelector('td:last-child').textContent);
              var title = row.querySelector('td:nth-child(2) a').textContent.toLowerCase();

              if (
                  (selectedOption === 'all' ||
                      (selectedOption === 'latest' && isLatestDate(date)) ||
                      (selectedOption === 'oldest' && isOldestDate(date))
                  ) &&
                  title.includes(searchTerm)
              ) {
                  row.style.display = '';
              } else {
                  row.style.display = 'none';
              }
          });
      }

      // 최신순 날짜 확인 함수
      function isLatestDate(date) {
          var today = new Date();
          var diffDays = Math.floor((today - date) / (1000 * 60 * 60 * 24));
          return diffDays <= 7; // 최근 7일 이내의 날짜인 경우 최신순으로 간주
      }

      // 과거순 날짜 확인 함수
      function isOldestDate(date) {
          var today = new Date();
          var diffDays = Math.floor((today - date) / (1000 * 60 * 60 * 24));
          return diffDays > 7; // 7일 이전의 날짜인 경우 과거순으로 간주
      }
  });
</script>
</body>
</html>